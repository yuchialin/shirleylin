<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coding Challenge</title>

    <!--style-->
    <!--<link type="text/css" rel="stylesheet" href="css/artboard.css">-->
    <style>

        #canvas{
            border: solid black 1px;
        }

        #redpicker{
            width:50px;
            height:50px;
            background: red;
        }
    </style>



</head>
<body>


<canvas id="canvas"></canvas>
<div onclick="ChangeRed()" id="redpicker"></div>

<script type="text/javascript">


    // -------------v1------------------

    var canvas = document.getElementsByTagName("canvas")[0];
    var context = canvas.getContext("2d");
    var style = 'black';
    var height = canvas.height = 0.8*window.innerHeight;
    var width = canvas.width = 0.8*window.innerWidth;
    var mouseClicked = false, mouseReleased = true;


    document.addEventListener("click", onMouseClick, false);
    document.addEventListener("mousemove", onMouseMove, false);
    document.addEventListener("keypress", onKeyPress, false);
    document.addEventListener("keydown", checkKey, false);

    document.addEventListener("touchstart", onMouseDown, false);
    document.addEventListener("touchmove", onTouchMove, false);
    document.addEventListener("touchend", onMouseUp, false);

    screen.addEventListener('orientationchange', function () {
        context.clearRect(0, 0, width, height);
    });

    var canDraw = true;

    function checkKey(e) {
        console.log(e);

        if (e.keyCode === 38) {
            // up arrow
            canDraw = false

        }
        else if (e.keyCode === 40) {
            // down arrow
            canDraw = true
        }
        else if (e.keyCode === 37) {
            // left arrow
        }
        else if (e.keyCode === 39) {
            // right arrow
        }

        else if (e.keyCode === 32) {
            // up arrow
            context.clearRect(0, 0, width, height);

        }

    }

    function ChangeRed() {
        style = 'red'
    }


    function onKeyPress(e) {
        console.log(e)
        if (e.key === 'r') {
            style = 'red'
        }
        else if (e.key === 'b') {
            style = 'blue'
        }
        else if (e.key === 'g') {
            style = 'green'
        }
        else if (e.key === 'y') {
            style = 'yellow'
        }

    }

    function onMouseClick(e) {
        if (canDraw) {
            mouseClicked = !mouseClicked;

        }
    }

    function onMouseDown(e) {
        canDraw = true
        if (canDraw) {
            mouseClicked = true;

        }
    }
    function onMouseUp(e) {
        if (canDraw) {
            mouseClicked = false;

        }
    }

    function onMouseMove(e) {
        if (mouseClicked) {

            context.beginPath();
            context.fillStyle = style;
            context.fillRect(e.clientX-15, e.clientY-15, 30, 30, false);
        }
    }

    function onTouchMove(e) {
        if (mouseClicked) {
            context.beginPath();
            context.fillStyle = style;
            context.fillRect(event.touches[0].clientX-15, event.touches[0].clientY-15, 30, 30, false);
        }
    }




</script>

</body>
</html>